Documentación de Despliegue y Arquitectura: AvisServer1. Información GeneralAvisServer es un backend reactivo de alto rendimiento desarrollado con Spring Boot (WebFlux) para la gestión de jugadores, inventarios y matchmaking en tiempo real. Está desplegado sobre un entorno Linux (Lubuntu) y utiliza Tailscale para garantizar conexiones seguras a través de una red privada virtual (VPN).Sistema Operativo: Lubuntu 22.04 / 24.04Usuario de despliegue: lubuntuRuta del proyecto: /home/lubuntu/ProyectoIntermodularDAM/serverArchivo ejecutable: server-0.0.1-SNAPSHOT.jar2. Arquitectura del SistemaEl servidor utiliza una pila tecnológica orientada a la reactividad y la escalabilidad:Core: Spring Boot con Spring WebFlux (Non-blocking).Base de Datos Principal: PostgreSQL alojada en Supabase, conectada mediante drivers reactivos R2DBC.Caché y Datos Efímeros: Redis (Instancia local) para rendimiento extremo.Matchmaking y Colas: RabbitMQ (Instancia local) para emparejamiento de jugadores.Comunicaciones Bidireccionales: RSocket sobre TCP para las batallas y eventos en tiempo real.Seguridad: Autenticación basada en JWT (JSON Web Tokens).3. Direcciones y Puertos (Red Tailscale)El servidor está expuesto en la red privada de Tailscale bajo la IP estática asignada a la máquina virtual. Los clientes (aplicación o juego) deben apuntar a las siguientes rutas:ServicioProtocoloDirección / EndpointDescripciónAPI REST (Pública)HTTPhttp://100.112.94.34:8080/api/public/**Endpoints accesibles sin token (ej. estado).API REST (Auth)HTTPhttp://100.112.94.34:8080/api/auth/**Registro e inicio de sesión.API REST (Privada)HTTPhttp://100.112.94.34:8080/api/**Requiere cabecera Authorization: Bearer <JWT>.RSocket (Batallas)TCP100.112.94.34:7000Conexión persistente para tiempo real.4. Dependencias e Infraestructura LocalLa máquina Lubuntu tiene instalados y corriendo los siguientes servicios en localhost:Java: OpenJDK 17Redis: Puerto 6379 (Sin contraseña por defecto en entorno local).RabbitMQ: Puerto 5672 (Credenciales: guest / guest).Tailscale: Servicio VPN (tailscaled).5. Gestión del Servicio (Systemd)La aplicación está demonizada como un servicio de Linux llamado avisserver.service. Esto garantiza que arranque automáticamente con el sistema operativo y se reinicie en caso de fallo.Comandos útiles de administración:Bash# Ver el estado actual del servidor (Activo/Inactivo)
sudo systemctl status avisserver

# Reiniciar el servidor (por ejemplo, tras subir nuevo código compilado)
sudo systemctl restart avisserver

# Detener el servidor
sudo systemctl stop avisserver

# Ver la consola en tiempo real (Logs de Spring Boot)
sudo journalctl -u avisserver -f
6. Integraciones de TercerosEl backend consume las siguientes APIs externas (configuradas en application.yml):OpenWeather API: Para la gestión de climas dinámicos.Unsplash API: Para la obtención de imágenes asociadas.Nuthatch API: Para datos relacionados con pájaros y ornitología.
